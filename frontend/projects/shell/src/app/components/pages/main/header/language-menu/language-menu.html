<button mat-icon-button [matMenuTriggerFor]="languageMenu" [attr.aria-label]="'header.language.ariaLabel' | transloco"
        [attr.cypressid]="'cypress-shellHeaderLanguageMenuButton'">
  <mat-icon>language</mat-icon>
</button>
<mat-menu #languageMenu="matMenu" xPosition="before" yPosition="below">
  @for (language of languageService.availableLanguages; track language.code) {
    <button mat-menu-item
            (click)="switchLanguage(language.code)"
            [disabled]="isActiveLanguage(language.code)"
            [class.active-language]="isActiveLanguage(language.code)"
            [attr.cypressid]="'cypress-shellHeaderLanguageMenuItem-' + language.code">
      <span>{{ language.labelKey | transloco }}</span>
      @if (isActiveLanguage(language.code)) {
        <mat-icon class="active-indicator">check</mat-icon>
      } @else {
        <mat-icon class="empty-indicator">check</mat-icon>
      }
    </button>
  }
</mat-menu>
